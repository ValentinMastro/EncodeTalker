[daemon]
max_concurrent_jobs = 1
socket_path = "~/.local/share/encodetalker/daemon.sock"
log_level = "info"

[encoding]
default_encoder = "svt-av1"
default_audio_mode = "opus"
default_audio_bitrate = 128
output_suffix = ".av1"
# Comptage précis des frames via ffmpeg (lent mais exact, utile pour vidéos VFR)
# false = estimation rapide (durée × fps), true = comptage précis
precise_frame_count = true

[encoder.svt-av1]
preset = 6
crf = 30
params = ["--keyint", "240", "--tune", "3"]

[encoder.aom]
cpu-used = 4
crf = 30

[ui]
file_extensions = [".mp4", ".mkv", ".avi", ".mov", ".webm"]
refresh_interval_ms = 500

# Configuration des binaires : utiliser les versions système ou compilées
# Options : "system" (utiliser via PATH) ou "compiled" (forcer compilation locale)
[binaries]
# Par défaut, utiliser FFmpeg système s'il est disponible (plus rapide au démarrage)
# Si FFmpeg système n'est pas trouvé, il sera compilé automatiquement
ffmpeg_source = "system"

# SVT-AV1-PSY et libaom sont toujours compilés localement car rarement disponibles
# dans les dépôts standards. Vous pouvez forcer "system" si vous les avez installés.
svt_av1_source = "compiled"
aom_source = "compiled"
