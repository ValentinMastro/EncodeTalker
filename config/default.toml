[daemon]
max_concurrent_jobs = 1
socket_path = "~/.local/share/encodetalker/daemon.sock"
log_level = "info"

[encoding]
default_encoder = "svt-av1"
default_audio_mode = "opus"
default_audio_bitrate = 128
output_suffix = ".av1"
# Comptage précis des frames via ffmpeg (lent mais exact, utile pour vidéos VFR)
# false = estimation rapide (durée × fps), true = comptage précis
precise_frame_count = true

[encoder.svt-av1]
preset = 6
crf = 30
params = ["--keyint", "240", "--tune", "3"]

[encoder.aom]
cpu-used = 4
crf = 30

[ui]
file_extensions = [".mp4", ".mkv", ".avi", ".mov", ".webm"]
refresh_interval_ms = 500

# Configuration des chemins (OPTIONNEL)
# Si cette section est absente, les chemins par défaut sont utilisés :
#
# Linux/Unix :
#   - Données : ~/.local/share/encodetalker/
#   - Dépendances : ~/.local/share/encodetalker/deps/ (~500 MB)
#   - Socket : ~/.local/share/encodetalker/daemon.sock
#
# Windows :
#   - Données : %LOCALAPPDATA%\encodetalker\
#   - Dépendances : %LOCALAPPDATA%\encodetalker\deps\
#   - IPC : \\.\pipe\encodetalker (Named Pipe, non configurable)
#
# Support de ~ (home directory) et variables d'environnement ($HOME, $USER, etc.)
# Les chemins absolus sont recommandés pour éviter toute ambiguïté
#
# IMPORTANT : Le daemon ET le TUI doivent utiliser le même config.toml pour
# garantir qu'ils utilisent les mêmes chemins
[paths]
# Déplacer tout le répertoire de données (state.json, daemon.log, deps/, socket)
# Linux/Unix :
# data_dir = "~/.local/share/encodetalker"
# Windows :
# data_dir = "C:\\Users\\YourName\\encodetalker"

# Déplacer uniquement les dépendances compilées/téléchargées
# Utile pour les mettre sur un SSD rapide
# Linux :
# deps_dir = "/mnt/ssd/encodetalker-deps"
# Windows :
# deps_dir = "D:\\encodetalker-deps"

# Socket Unix personnalisé (Linux/Unix uniquement)
# Note : Sur Windows, le Named Pipe (\\.\pipe\encodetalker) n'est pas configurable
# socket_path = "/tmp/encodetalker-$USER.sock"
